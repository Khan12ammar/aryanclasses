<script>
// Users
let users = [
  {id:'reo12345678912', password:'ammar.1010', name:'Reo', class:'10th', place:'Mumbai', gr_no:'GR0001', admin:true, fees:{status:'Pending',amount:'₹2000',due:'30 Sept'}, subjects:{Maths:'Algebra',Science:'Physics'}, remarks:['Good progress']},
  {id:'test-1', password:'test123', name:'Test User', class:'9th', place:'Mumbai', gr_no:'GR0002', admin:false, fees:{status:'Paid',amount:'₹1500',due:'N/A'}, subjects:{Maths:'Geometry',Science:'Chemistry'}, remarks:['Needs improvement']},

  {id:'user001', password:'X', name:'Fuzan', class:'10th', place:'Mumbai', gr_no:'GR1001'},
  {id:'user002', password:'✓', name:'Sharmeen', class:'10th', place:'Mumbai', gr_no:'GR1002'},
  {id:'user003', password:'✓', name:'1Xth', class:'10th', place:'Mumbai', gr_no:'GR1003'},
  {id:'user004', password:'', name:'Rida', class:'10th', place:'Mumbai', gr_no:'GR1004'},
  {id:'user005', password:'X?', name:'Uzma', class:'10th', place:'Mumbai', gr_no:'GR1005'},
  {id:'user006', password:'X', name:'Kulsum', class:'10th', place:'Mumbai', gr_no:'GR1006'},
  {id:'user007', password:'✓', name:'Arsheen', class:'10th', place:'Mumbai', gr_no:'GR1007'},
  {id:'user008', password:'✓', name:'Safiya', class:'10th', place:'Mumbai', gr_no:'GR1008'},
  {id:'user009', password:'✓', name:'Zodiyfa', class:'10th', place:'Mumbai', gr_no:'GR1009'},
  {id:'user010', password:'✓', name:'Anas', class:'10th', place:'Mumbai', gr_no:'GR1010'},
  {id:'user011', password:'✓', name:'Akhan', class:'10th', place:'Mumbai', gr_no:'GR1011'},
  {id:'user012', password:'✓', name:'Husnain', class:'10th', place:'Mumbai', gr_no:'GR1012'},
  {id:'user013', password:'X', name:'Hamza', class:'10th', place:'Mumbai', gr_no:'GR1013'},
  {id:'user014', password:'', name:'Mushab', class:'10th', place:'Mumbai', gr_no:'GR1014'},
  {id:'user015', password:'', name:'Matur', class:'10th', place:'Mumbai', gr_no:'GR1015'},
  {id:'user016', password:'X', name:'Zaid', class:'10th', place:'Mumbai', gr_no:'GR1016'},
  {id:'user017', password:'X', name:'Abubakkar', class:'10th', place:'Mumbai', gr_no:'GR1017'},
  {id:'user018', password:'', name:'Husna', class:'10th', place:'Mumbai', gr_no:'GR1018'}
];

let currentUser = null;

// Elements
const loginPage = document.getElementById('loginPage');
const dashboardPage = document.getElementById('dashboardPage');
const subjectsPageElem = document.getElementById('subjectsPage');
const feesPageElem = document.getElementById('feesPage');
const remarksPageElem = document.getElementById('remarksPage');
const adminPageElem = document.getElementById('adminPage');

function show(page) {
  [loginPage, dashboardPage, subjectsPageElem, feesPageElem, remarksPageElem, adminPageElem].forEach(p => p.classList.remove('active'));
  page.classList.add('active');
}

// Login
document.getElementById('loginBtn').onclick = () => {
  const id = document.getElementById('loginId').value.trim();
  const pass = document.getElementById('loginPass').value.trim();

  // Find matching user
  const user = users.find(u => u.id === id && u.password === pass);

  if (!user) {
    document.getElementById('loginError').classList.remove('hidden');
    return;
  }

  currentUser = user;
  document.getElementById('loginError').classList.add('hidden');

  // Show name + details
  document.getElementById('greeting').innerText = 
    `Welcome, ${currentUser.name} | Class: ${currentUser.class} | GR: ${currentUser.gr_no} | Place: ${currentUser.place}`;

  document.getElementById('btnAdmin').classList.toggle('hidden', !currentUser.admin);

  show(dashboardPage);
};
</script>
